# 第8章 抽象クラスとインタフェース
## 修飾子とアクセス制御
### 修飾子とは
* Javaには、他のクラスから特定のフィールドやメソッドにアクセスできないようにしたり、それらの属性を定めたりするキーワードがある。
* クラスのフィールドやメソッドの宣言で用いるキーワードのことを **修飾子** という。クラス変数やクラスメソッドの宣言で使った `static` も修飾子の一つ。

### アクセス修飾子
| アクセス修飾子 | 意味・機能 |
| -- | -- |
| `public` | 他のどのクラスからもアクセスできる。 |
| `protected` | サブクラスまたは同じパッケージ内のクラスからしかアクセスできない。 |
| なし | 同一パッケージのクラスからしかアクセスできない。 |
| `private` | 同じクラス内からしかアクセスできない。 |

アクセス修飾子を使ったコード例を書く。
```java
class Car {
    // privateがついているので、外部からはアクセスできない
    private int speed;

    public void speedUp() {
        if (speed < 80) {
            // 同じクラスのメソッドからはアクセスできる
            speed++;
        }
    }

    public void speedDown() {
        if (speed > 0) {
            // 同じクラスのメソッドからはアクセスできる
            speed--;
        }
    }
}
```
* `Car` クラスのフィールドには、インスタンス変数 `speed` があり、これには `private` 修飾子が付けられているので、`Car` クラスの外からは `speed` を直接参照できない。参照できるのは、インスタンスメソッドである `speedUp` と `speedDown` だけ。
* 次のようにインスタンス変数に直接値を代入しようとするコードはコンパイルエラーになる。
    ```java
    Car car = new Car();
    car.speed = 30;
    ```
* もし、`speed` の宣言で `private` を付けなかった場合、外部から直接値を変更できてしまう。
    ```java
    car.speed = 10000;
    ```
    のような、ありえない値を設定されてしまうおそれがある。`private` をつけておけば、`Car` クラスのインスタンスメソッドを通さないと `speed` の値を変更できないようになって、その値が0~80の範囲に収まることが保証される。
* `private` 修飾子を使って外部から直接アクセスできないようにすることを **隠蔽** という。フィールドやメソッドを適切に隠蔽することにより、クラス内部でどのような処理が行われているかを、クラスの利用者が意識する必要がなくなる。クラスの中だけで使用するメソッドにも、外部から呼び出せないように `private` を付けておくことが大切。このようにすることを **カプセル化** という。

### final修飾子
* 後から変更してはいけないものには `final` をつける。クラス、メソッド、フィールドにつけることができて、それぞれ次のような意味を持つ。
  * クラス ... サブクラスを作れないクラスになる。
  * メソッド ... サブクラスでオーバーライドできなくなる。
  * フィールド ... 値を変更できなくなる。

* フィールドの場合は、後から値を変更できないので、宣言のときに値を指定する。
    ```java
    public final static double PI = 3.141592;
    public final static int ADULT_AGE = 20;
    ```

* 変更できないフィールドのことを **定数** といい、定数の名前は大文字で書く。
* `public` や `static` は付けなくても問題ないが、定数はプログラムのあちこちから利用されることが多いので、通常は他のクラスやインスタンスからも参照できるようにする。

### static修飾子
* `static` 修飾子は、フィールドの宣言につけるとクラス変数に、メソッドの宣言につけるとクラスメソッドになる。

### その他の修飾子
| 修飾子 | 意味・機能 |
| -- | -- |
| `abstract` | クラスやインタフェース、メソッドにつけることで抽象化する。 |
| `synchronized` | メソッドにつける修飾子で、マルチスレッドの処理時に排他処理を行う。 |
